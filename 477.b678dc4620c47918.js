"use strict";(self.webpackChunkibex=self.webpackChunkibex||[]).push([[477],{5477:($,O,l)=>{l.r(O),l.d(O,{DashboardsModule:()=>R});var h=l(6895),g=l(4006);const p={chart:{height:340,type:"bar",stacked:!0,toolbar:{show:!1},zoom:{enabled:!0}},plotOptions:{bar:{horizontal:!1,columnWidth:"15%",endingShape:"rounded"}},dataLabels:{enabled:!1},series:[{name:"Line 1",data:[44,55,41,67,22,43,36,52,24,18,36,48]},{name:"Line 2",data:[13,23,20,8,13,27,18,22,10,16,24,22]}],xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},colors:["#556ee6","#f1b44c"],legend:{position:"bottom"},fill:{opacity:1}},b={chart:{height:200,type:"radialBar",offsetY:-10},plotOptions:{radialBar:{startAngle:-135,endAngle:135,dataLabels:{name:{fontSize:"13px",color:void 0,offsetY:60},value:{offsetY:22,fontSize:"16px",color:void 0,formatter:s=>s+"%"}}}},colors:["#556ee6"],fill:{type:"gradient",gradient:{shade:"dark",shadeIntensity:.15,inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,50,65,91]}},stroke:{dashArray:4},series:[82],labels:["Ingots"]};var e=l(4650),y=l(5876),F=l(8914),I=l(3117),B=l(591);let j=(()=>{class s{constructor(){this.isLoading=new B.X(!1)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=e.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function z(s,u){1&s&&(e.\u0275\u0275elementStart(0,"div",1)(1,"div",2)(2,"div",3),e.\u0275\u0275element(3,"div",4)(4,"div",4)(5,"div",4)(6,"div",4)(7,"div",4)(8,"div",4),e.\u0275\u0275elementEnd()()())}let E=(()=>{class s{constructor(c){this.loaderService=c,this.loading=!0,this.loaderService.isLoading.subscribe(o=>{setTimeout(()=>{this.loading=o},1500)})}ngOnInit(){}}return s.\u0275fac=function(c){return new(c||s)(e.\u0275\u0275directiveInject(j))},s.\u0275cmp=e.\u0275\u0275defineComponent({type:s,selectors:[["app-loader"]],decls:1,vars:1,consts:[["id","preloader",4,"ngIf"],["id","preloader"],["id","status"],[1,"spinner-chase"],[1,"chase-dot"]],template:function(c,o){1&c&&e.\u0275\u0275template(0,z,9,0,"div",0),2&c&&e.\u0275\u0275property("ngIf",o.loading)},dependencies:[h.NgIf]}),s})();var D=l(6892),x=l(1244);const A=["content"];function N(s,u){if(1&s&&(e.\u0275\u0275elementStart(0,"div",40),e.\u0275\u0275element(1,"app-stat",41),e.\u0275\u0275elementEnd()),2&s){const c=u.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("title",c.title)("value",c.value)("icon",c.icon)}}function P(s,u){if(1&s){const c=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",42)(1,"button",43),e.\u0275\u0275listener("click",function(){const U=e.\u0275\u0275restoreView(c).$implicit;return e.\u0275\u0275resetView(U.dismiss("Cross click"))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(2,"div",44)(3,"div",45)(4,"div",46)(5,"div",47),e.\u0275\u0275element(6,"i",48),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",49)(8,"div",50)(9,"h4",12),e.\u0275\u0275text(10,"Subscribe !"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"p",51),e.\u0275\u0275text(12,"Subscribe our newletter and get notification to stay update. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",52),e.\u0275\u0275element(14,"input",53),e.\u0275\u0275elementStart(15,"button",54),e.\u0275\u0275element(16,"i",55),e.\u0275\u0275elementEnd()()()()()()}}const L=function(s){return{active:s}};let _=(()=>{class s{constructor(c,o,v){this.modalService=c,this.configService=o,this.eventService=v,this.statData=[{icon:"bx bx-copy-alt",title:"Total Ingots Weight",value:"200KG"},{icon:"bx bx-archive-in",title:"Total Final Heat Numbers",value:"100"},{icon:"bx bx-purchase-tag-alt",title:"Total Dispatched Weight",value:"500KG"}]}ngOnInit(){const c=document.body.getAttribute("data-layout");if(this.isVisible=c,document.getElementById("layout-vertical")?.setAttribute("checked","true"),"horizontal"==c){const v=document.getElementById("layout-horizontal");null!=v&&(v.setAttribute("checked","true"),console.log(v))}this.fetchData()}ngAfterViewInit(){}fetchData(){this.emailSentBarChart=p,this.monthlyEarningChart=b,this.isActive="year",this.configService.getConfig().subscribe(c=>{this.transactions=c.transactions})}openModal(){this.modalService.open(this.content,{centered:!0})}weeklyreport(){this.isActive="week",this.emailSentBarChart.series=[{name:"Line 1",data:[44,55,41,67,22,4,10]},{name:"Line 2",data:[11,17,15,15,21,14,11]}],this.emailSentBarChart.xaxis={categories:["Mon","Tue","Wed","Thur","Fri","Sat","Sun"]},this.statData=[{icon:"bx bx-copy-alt",title:"Total Ingots Weight",value:"50KG"},{icon:"bx bx-archive-in",title:"Total Final Heat Numbers",value:"20"},{icon:"bx bx-purchase-tag-alt",title:"Total Dispatched Weight",value:"200KG"}]}monthlyreport(){this.isActive="month",this.emailSentBarChart.series=[{name:"Line 1",data:[44,55,41,67,22]},{name:"Line 2",data:[13,23,20,8,13]}],this.emailSentBarChart.xaxis={categories:["Week 1","Week 2","Week 3","Week 4","Week 5"]},this.statData=[{icon:"bx bx-copy-alt",title:"Total Ingots Weight",value:"100KG"},{icon:"bx bx-archive-in",title:"Total Final Heat Numbers",value:"50"},{icon:"bx bx-purchase-tag-alt",title:"Total Dispatched Weight",value:"400KG"}]}yearlyreport(){this.isActive="year",this.emailSentBarChart.series=[{name:"Line 1",data:[13,23,20,8,13,27,18,22,10,16,24,22]},{name:"Line 2",data:[11,17,15,15,21,14,11,18,17,12,20,18]}],this.emailSentBarChart.xaxis={categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},this.statData=[{icon:"bx bx-copy-alt",title:"Total Ingots Weight",value:"200KG"},{icon:"bx bx-archive-in",title:"Total Final Heat Numbers",value:"100"},{icon:"bx bx-purchase-tag-alt",title:"Total Dispatched Weight",value:"500KG"}]}changeLayout(c){this.eventService.broadcast("changeLayout",c)}}return s.\u0275fac=function(c){return new(c||s)(e.\u0275\u0275directiveInject(y.FF),e.\u0275\u0275directiveInject(F.E),e.\u0275\u0275directiveInject(I.P))},s.\u0275cmp=e.\u0275\u0275defineComponent({type:s,selectors:[["app-supervisor"]],viewQuery:function(c,o){if(1&c&&e.\u0275\u0275viewQuery(A,5),2&c){let v;e.\u0275\u0275queryRefresh(v=e.\u0275\u0275loadQuery())&&(o.content=v.first)}},decls:77,vars:25,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"page-title-box","d-flex","align-items-center","justify-content-between"],[1,"mb-0","font-size-18"],[1,"page-title-right"],[1,"breadcrumb","m-0"],[1,"col-xl-4"],[1,"card","overflow-hidden"],[1,"bg-primary","bg-soft"],[1,"col-7"],[1,"text-primary","p-3"],[1,"text-primary"],[1,"card-body","pt-0"],[1,"col-sm-12"],[1,"pt-4"],[1,"col-6"],[1,"font-size-15"],[1,"mb-0"],[1,"text-success","font-weight-bold","mr-2"],[1,"text-muted"],[1,"row","mt-4"],["href","",1,"btn","btn-primary","btn-sm"],[1,"mdi","mdi-arrow-right","ms-1"],[1,"card"],[1,"card-body"],[1,"card-title","mb-4"],[1,"col-sm-6"],[1,"text-success","mr-2"],[1,"mdi","mdi-arrow-up"],["dir","ltr",1,"apex-charts",3,"series","chart","legend","colors","labels","stroke","plotOptions"],[1,"col-xl-8"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"d-sm-flex","flex-wrap"],[1,"ms-auto"],[1,"nav","nav-pills"],[1,"nav-item"],["href","javascript: void(0);",1,"nav-link",3,"ngClass","click"],["dir","ltr",1,"apex-charts",3,"chart","series","legend","colors","fill","dataLabels","xaxis","plotOptions"],["content",""],[1,"col-md-4"],[3,"title","value","icon"],[1,"modal-header","border-bottom-0"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"text-center","mb-4"],[1,"avatar-md","mx-auto","mb-4"],[1,"avatar-title","bg-light","rounded-circle","text-primary","h1"],[1,"mdi","mdi-email-open"],[1,"row","justify-content-center"],[1,"col-xl-10"],[1,"text-muted","font-size-14","mb-4"],[1,"input-group","bg-light","rounded"],["type","email","placeholder","Enter Email address","aria-label","Recipient's username","aria-describedby","button-addon2",1,"form-control","bg-transparent","border-0"],["type","button","id","button-addon2",1,"btn","btn-primary"],[1,"bx","bxs-paper-plane"]],template:function(c,o){1&c&&(e.\u0275\u0275element(0,"app-loader"),e.\u0275\u0275elementStart(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h4",4),e.\u0275\u0275text(6,"Supervisor Panel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",5),e.\u0275\u0275element(8,"ol",6),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(9,"div",1)(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",1)(14,"div",10)(15,"div",11)(16,"h5",12),e.\u0275\u0275text(17,"Welcome Back !"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"p"),e.\u0275\u0275text(19,"Admin"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(20,"div",13)(21,"div",1)(22,"div",14)(23,"div",15)(24,"div",1)(25,"div",16)(26,"h5",17),e.\u0275\u0275text(27,"Operators"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"p",18)(29,"span",19),e.\u0275\u0275text(30,"6"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"span",20),e.\u0275\u0275text(32,"/20"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(33,"div",21)(34,"div",2)(35,"a",22),e.\u0275\u0275text(36,"View/Add "),e.\u0275\u0275element(37,"i",23),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275elementStart(38,"div",24)(39,"div",25)(40,"h4",26),e.\u0275\u0275text(41,"Monthly Ingot Target"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"div",1)(43,"div",27)(44,"p",20),e.\u0275\u0275text(45,"This month"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"h3"),e.\u0275\u0275text(47,"14,422 Ingots"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"p",20)(49,"span",28),e.\u0275\u0275text(50," 12% "),e.\u0275\u0275element(51,"i",29),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(52," From previous period "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(53,"div",27),e.\u0275\u0275element(54,"apx-chart",30),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(55,"div",31)(56,"div",1),e.\u0275\u0275template(57,N,2,3,"div",32),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(58,"div",24)(59,"div",25)(60,"div",33)(61,"h4",26),e.\u0275\u0275text(62,"Total Mg Ingot Produced"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(63,"div",34)(64,"ul",35)(65,"li",36)(66,"a",37),e.\u0275\u0275listener("click",function(){return o.weeklyreport()}),e.\u0275\u0275text(67,"Week"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(68,"li",36)(69,"a",37),e.\u0275\u0275listener("click",function(){return o.monthlyreport()}),e.\u0275\u0275text(70,"Month"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(71,"li",36)(72,"a",37),e.\u0275\u0275listener("click",function(){return o.yearlyreport()}),e.\u0275\u0275text(73,"Year"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275element(74,"apx-chart",38),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275template(75,P,17,0,"ng-template",null,39,e.\u0275\u0275templateRefExtractor)),2&c&&(e.\u0275\u0275advance(54),e.\u0275\u0275property("series",o.monthlyEarningChart.series)("chart",o.monthlyEarningChart.chart)("legend",o.monthlyEarningChart.legend)("colors",o.monthlyEarningChart.colors)("labels",o.monthlyEarningChart.labels)("stroke",o.monthlyEarningChart.stroke)("plotOptions",o.monthlyEarningChart.plotOptions),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",o.statData),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(19,L,"week"===o.isActive)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(21,L,"month"===o.isActive)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(23,L,"year"===o.isActive)),e.\u0275\u0275advance(2),e.\u0275\u0275property("chart",o.emailSentBarChart.chart)("series",o.emailSentBarChart.series)("legend",o.emailSentBarChart.legend)("colors",o.emailSentBarChart.colors)("fill",o.emailSentBarChart.fill)("dataLabels",o.emailSentBarChart.dataLabels)("xaxis",o.emailSentBarChart.xaxis)("plotOptions",o.emailSentBarChart.plotOptions))},dependencies:[h.NgClass,h.NgForOf,E,D.j,x.x]}),s})();var T=l(9158);const G=[{path:"admin",loadChildren:()=>l.e(220).then(l.bind(l,2220)).then(s=>s.AdminModule)},{path:"supervisor",component:_}];let W=(()=>{class s{}return s.\u0275fac=function(c){return new(c||s)},s.\u0275mod=e.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=e.\u0275\u0275defineInjector({imports:[T.Bz.forChild(G),T.Bz]}),s})();var w=l(9668),V=l(1819),k=l(7303),K=l(65);let R=(()=>{class s{}return s.\u0275fac=function(c){return new(c||s)},s.\u0275mod=e.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=e.\u0275\u0275defineInjector({imports:[h.CommonModule,g.u5,g.UX,W,w.v,y.XC,y.HK,y.Oz,y.mH,V.y,x.X,k.t,y.M,K.Ns.forRoot({echarts:()=>l.e(755).then(l.bind(l,5755))})]}),s})()},6892:($,O,l)=>{l.d(O,{j:()=>g});var h=l(4650);let g=(()=>{class p{constructor(){}ngOnInit(){}}return p.\u0275fac=function(f){return new(f||p)},p.\u0275cmp=h.\u0275\u0275defineComponent({type:p,selectors:[["app-stat"]],inputs:{title:"title",value:"value",icon:"icon"},decls:12,vars:5,consts:[[1,"card","mini-stats-wid"],[1,"card-body"],[1,"d-flex"],[1,"flex-grow-1"],[1,"text-muted","fw-medium","mb-2"],[1,"mb-0"],[1,"flex-shrink-0","align-self-center"],[1,"mini-stat-icon","avatar-sm","rounded-circle","bg-primary"],[1,"avatar-title"]],template:function(f,M){1&f&&(h.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),h.\u0275\u0275text(5),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(6,"h4",5),h.\u0275\u0275text(7),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(8,"div",6)(9,"div",7)(10,"span",8),h.\u0275\u0275element(11,"i"),h.\u0275\u0275elementEnd()()()()()()),2&f&&(h.\u0275\u0275advance(5),h.\u0275\u0275textInterpolate(M.title),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(M.value),h.\u0275\u0275advance(4),h.\u0275\u0275classMapInterpolate1("bx ",M.icon," font-size-24"))}}),p})()},65:($,O,l)=>{l.d(O,{_w:()=>Q,Ns:()=>q});var h=l(4650),g=l(655),p=function(){if(typeof Map<"u")return Map;function i(n,t){var r=-1;return n.some(function(a,d){return a[0]===t&&(r=d,!0)}),r}return function(){function n(){this.__entries__=[]}return Object.defineProperty(n.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),n.prototype.get=function(t){var r=i(this.__entries__,t),a=this.__entries__[r];return a&&a[1]},n.prototype.set=function(t,r){var a=i(this.__entries__,t);~a?this.__entries__[a][1]=r:this.__entries__.push([t,r])},n.prototype.delete=function(t){var r=this.__entries__,a=i(r,t);~a&&r.splice(a,1)},n.prototype.has=function(t){return!!~i(this.__entries__,t)},n.prototype.clear=function(){this.__entries__.splice(0)},n.prototype.forEach=function(t,r){void 0===r&&(r=null);for(var a=0,d=this.__entries__;a<d.length;a++){var m=d[a];t.call(r,m[1],m[0])}},n}()}(),b=typeof window<"u"&&typeof document<"u"&&window.document===document,f=typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),M="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(f):function(i){return setTimeout(function(){return i(Date.now())},1e3/60)},I=["top","right","bottom","left","width","height","size","weight"],B=typeof MutationObserver<"u",j=function(){function i(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function y(i,n){var t=!1,r=!1,a=0;function d(){t&&(t=!1,i()),r&&S()}function m(){M(d)}function S(){var C=Date.now();if(t){if(C-a<2)return;r=!0}else t=!0,r=!1,setTimeout(m,n);a=C}return S}(this.refresh.bind(this),20)}return i.prototype.addObserver=function(n){~this.observers_.indexOf(n)||this.observers_.push(n),this.connected_||this.connect_()},i.prototype.removeObserver=function(n){var t=this.observers_,r=t.indexOf(n);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},i.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},i.prototype.updateObservers_=function(){var n=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return n.forEach(function(t){return t.broadcastActive()}),n.length>0},i.prototype.connect_=function(){!b||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),B?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},i.prototype.disconnect_=function(){!b||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},i.prototype.onTransitionEnd_=function(n){var t=n.propertyName,r=void 0===t?"":t;I.some(function(d){return!!~r.indexOf(d)})&&this.refresh()},i.getInstance=function(){return this.instance_||(this.instance_=new i),this.instance_},i.instance_=null,i}(),z=function(i,n){for(var t=0,r=Object.keys(n);t<r.length;t++){var a=r[t];Object.defineProperty(i,a,{value:n[a],enumerable:!1,writable:!1,configurable:!0})}return i},E=function(i){return i&&i.ownerDocument&&i.ownerDocument.defaultView||f},D=w(0,0,0,0);function x(i){return parseFloat(i)||0}function A(i){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return n.reduce(function(r,a){return r+x(i["border-"+a+"-width"])},0)}var _=typeof SVGGraphicsElement<"u"?function(i){return i instanceof E(i).SVGGraphicsElement}:function(i){return i instanceof E(i).SVGElement&&"function"==typeof i.getBBox};function G(i){return b?_(i)?function P(i){var n=i.getBBox();return w(0,0,n.width,n.height)}(i):function L(i){var n=i.clientWidth,t=i.clientHeight;if(!n&&!t)return D;var r=E(i).getComputedStyle(i),a=function N(i){for(var t={},r=0,a=["top","right","bottom","left"];r<a.length;r++){var d=a[r];t[d]=x(i["padding-"+d])}return t}(r),d=a.left+a.right,m=a.top+a.bottom,S=x(r.width),C=x(r.height);if("border-box"===r.boxSizing&&(Math.round(S+d)!==n&&(S-=A(r,"left","right")+d),Math.round(C+m)!==t&&(C-=A(r,"top","bottom")+m)),!function T(i){return i===E(i).document.documentElement}(i)){var Z=Math.round(S+d)-n,X=Math.round(C+m)-t;1!==Math.abs(Z)&&(S-=Z),1!==Math.abs(X)&&(C-=X)}return w(a.left,a.top,S,C)}(i):D}function w(i,n,t,r){return{x:i,y:n,width:t,height:r}}var V=function(){function i(n){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=w(0,0,0,0),this.target=n}return i.prototype.isActive=function(){var n=G(this.target);return this.contentRect_=n,n.width!==this.broadcastWidth||n.height!==this.broadcastHeight},i.prototype.broadcastRect=function(){var n=this.contentRect_;return this.broadcastWidth=n.width,this.broadcastHeight=n.height,n},i}(),k=function i(n,t){var r=function W(i){var n=i.x,t=i.y,r=i.width,a=i.height,d=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,m=Object.create(d.prototype);return z(m,{x:n,y:t,width:r,height:a,top:t,right:n+r,bottom:a+t,left:n}),m}(t);z(this,{target:n,contentRect:r})},K=function(){function i(n,t,r){if(this.activeObservations_=[],this.observations_=new p,"function"!=typeof n)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=n,this.controller_=t,this.callbackCtx_=r}return i.prototype.observe=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u")&&Element instanceof Object){if(!(n instanceof E(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(n)||(t.set(n,new V(n)),this.controller_.addObserver(this),this.controller_.refresh())}},i.prototype.unobserve=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u")&&Element instanceof Object){if(!(n instanceof E(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;!t.has(n)||(t.delete(n),t.size||this.controller_.removeObserver(this))}},i.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},i.prototype.gatherActive=function(){var n=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&n.activeObservations_.push(t)})},i.prototype.broadcastActive=function(){if(this.hasActive()){var n=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new k(r.target,r.broadcastRect())});this.callback_.call(n,t,n),this.clearActive()}},i.prototype.clearActive=function(){this.activeObservations_.splice(0)},i.prototype.hasActive=function(){return this.activeObservations_.length>0},i}(),R=typeof WeakMap<"u"?new WeakMap:new p,s=function i(n){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=j.getInstance(),r=new K(n,t,this);R.set(this,r)};["observe","unobserve","disconnect"].forEach(function(i){s.prototype[i]=function(){var n;return(n=R.get(this))[i].apply(n,arguments)}});const c=typeof f.ResizeObserver<"u"?f.ResizeObserver:s;var o=l(1086),v=l(8896),U=l(4202),Y=l(7545);class H{constructor(n){this.changes=n}static of(n){return new H(n)}notEmpty(n){if(this.changes[n]){const t=this.changes[n].currentValue;if(null!=t)return(0,o.of)(t)}return v.E}has(n){return this.changes[n]?(0,o.of)(this.changes[n].currentValue):v.E}notFirst(n){return this.changes[n]&&!this.changes[n].isFirstChange()?(0,o.of)(this.changes[n].currentValue):v.E}notFirstAndEmpty(n){if(this.changes[n]&&!this.changes[n].isFirstChange()){const t=this.changes[n].currentValue;if(null!=t)return(0,o.of)(t)}return v.E}}const J=new h.InjectionToken("NGX_ECHARTS_CONFIG");let Q=(()=>{class i{constructor(t,r,a){this.el=r,this.ngZone=a,this.autoResize=!0,this.loadingType="default",this.chartInit=new h.EventEmitter,this.optionsError=new h.EventEmitter,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartPieSelectChanged=this.createLazyEvent("pieselectchanged"),this.chartPieSelected=this.createLazyEvent("pieselected"),this.chartPieUnselected=this.createLazyEvent("pieunselected"),this.chartMapSelectChanged=this.createLazyEvent("mapselectchanged"),this.chartMapSelected=this.createLazyEvent("mapselected"),this.chartMapUnselected=this.createLazyEvent("mapunselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartFocusNodeAdjacency=this.createLazyEvent("focusnodeadjacency"),this.chartUnfocusNodeAdjacency=this.createLazyEvent("unfocusnodeadjacency"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.echarts=t.echarts}ngOnChanges(t){const r=H.of(t);r.notFirstAndEmpty("options").subscribe(a=>this.onOptionsChange(a)),r.notFirstAndEmpty("merge").subscribe(a=>this.setOption(a)),r.has("loading").subscribe(a=>this.toggleLoading(!!a)),r.notFirst("theme").subscribe(()=>this.refreshChart())}ngOnInit(){this.autoResize&&(this.resizeSub=new c(()=>{this.animationFrameID=window.requestAnimationFrame(()=>this.resize())}),this.resizeSub.observe(this.el.nativeElement))}ngOnDestroy(){this.resizeSub&&(this.resizeSub.unobserve(this.el.nativeElement),window.cancelAnimationFrame(this.animationFrameID)),this.dispose()}ngAfterViewInit(){setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(t){this.chart&&(t?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading())}setOption(t,r){if(this.chart)try{this.chart.setOption(t,r)}catch(a){console.error(a),this.optionsError.emit(a)}}refreshChart(){return(0,g.mG)(this,void 0,void 0,function*(){this.dispose(),yield this.initChart()})}createChart(){const t=this.el.nativeElement;if(window&&window.getComputedStyle){const r=window.getComputedStyle(t,null).getPropertyValue("height");(!r||"0px"===r)&&(!t.style.height||"0px"===t.style.height)&&(t.style.height="400px")}return this.ngZone.runOutsideAngular(()=>("function"==typeof this.echarts?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:a})=>a(t,this.theme,this.initOpts)))}initChart(){return(0,g.mG)(this,void 0,void 0,function*(){yield this.onOptionsChange(this.options),this.merge&&this.chart&&this.setOption(this.merge)})}onOptionsChange(t){return(0,g.mG)(this,void 0,void 0,function*(){!t||(this.chart||(this.chart=yield this.createChart(),this.chartInit.emit(this.chart)),this.setOption(this.options,!0))})}createLazyEvent(t){return this.chartInit.pipe((0,Y.w)(r=>new U.y(a=>(r.on(t,d=>this.ngZone.run(()=>a.next(d))),()=>{this.chart&&(this.chart.isDisposed()||r.off(t))}))))}}return i.\u0275fac=function(t){return new(t||i)(h.\u0275\u0275directiveInject(J),h.\u0275\u0275directiveInject(h.ElementRef),h.\u0275\u0275directiveInject(h.NgZone))},i.\u0275dir=h.\u0275\u0275defineDirective({type:i,selectors:[["echarts"],["","echarts",""]],inputs:{autoResize:"autoResize",loadingType:"loadingType",options:"options",theme:"theme",loading:"loading",initOpts:"initOpts",merge:"merge",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartPieSelectChanged:"chartPieSelectChanged",chartPieSelected:"chartPieSelected",chartPieUnselected:"chartPieUnselected",chartMapSelectChanged:"chartMapSelectChanged",chartMapSelected:"chartMapSelected",chartMapUnselected:"chartMapUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartFocusNodeAdjacency:"chartFocusNodeAdjacency",chartUnfocusNodeAdjacency:"chartUnfocusNodeAdjacency",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],features:[h.\u0275\u0275NgOnChangesFeature]}),i})(),q=(()=>{class i{static forRoot(t){return{ngModule:i,providers:[{provide:J,useValue:t}]}}static forChild(){return{ngModule:i}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=h.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=h.\u0275\u0275defineInjector({}),i})()}}]);