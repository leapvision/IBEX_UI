<div class="container-fluid">
  <app-page-title title="" [breadcrumbItems]="breadCrumbItems"></app-page-title>

  <div class="row">
    <div class="col-lg-12 align-items-center">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title mb-4 text-center">Inward Scrap</h4>
          <form
            [formGroup]="inwardScrapForm"
            (ngSubmit)="onInwardScrapFormSubmit()"
          >
            <aw-wizard [navBarLayout]="'large-empty-symbols'">
              <!-- Step 1 -->
              <aw-wizard-step
                stepTitle="Scrap Details"
                formGroupName="scrapDetailsGroup"
              >
                <ng-template awWizardStepSymbol><b>1</b></ng-template>
                <div class="row mt-3 justify-content-center">
                  <div class="row mb-4">
                    <label for="grn" class="col-sm-3 col-form-label"
                      >Select GRN No</label
                    >
                    <div class="col-sm-9">
                      <ng-select
                        id="grn"
                        placeholder="--Please Select--"
                        formControlName="grn_no"
                        (ngModelChange)="updateScrapDetails($event)"
                      >
                        <ng-option
                          *ngFor="let grn of grnNumbers"
                          [value]="grn"
                          >{{ grn }}</ng-option
                        >
                      </ng-select>
                    </div>
                  </div>
                  <div class="row mb-4">
                    <label for="alloyName" class="col-sm-3 col-form-label"
                      >Alloy Name</label
                    >
                    <div class="col-sm-9">
                      <input
                        type="text"
                        class="form-control"
                        id="alloyName"
                        formControlName="alloy_name"
                      />
                    </div>
                  </div>

                  <div class="row mb-4">
                    <label for="source" class="col-sm-3 col-form-label"
                      >Source</label
                    >
                    <div class="col-sm-9">
                      <input
                        type="text"
                        class="form-control"
                        id="source"
                        formControlName="source"
                      />
                    </div>
                  </div>
                  <div class="row mb-4">
                    <label for="weight" class="col-sm-3 col-form-label"
                      >Weight(KG)</label
                    >
                    <div class="col-sm-9">
                      <input
                        type="text"
                        class="form-control"
                        id="weight"
                        formControlName="weight"
                      />
                    </div>
                  </div>
                </div>
                <ul class="list-inline wizard mb-0">
                  <li class="next list-inline-item float-end">
                    <button
                      type="button"
                      class="btn btn-primary"
                      [disabled]="form.scrapDetailsGroup.invalid"
                      awNextStep
                    >
                      Next
                    </button>
                  </li>
                </ul>
              </aw-wizard-step>

              <!-- Step 2 -->
              <aw-wizard-step stepTitle="Remarks" formGroupName="remarksGroup">
                <ng-template awWizardStepSymbol><b>2</b></ng-template>

                <div class="row mb-4">
                  <label for="remarks" class="col-sm-3 col-form-label"
                    >Remarks</label
                  >
                  <div class="col-sm-9">
                    <input
                      type="text"
                      class="form-control"
                      id="remarks"
                      formControlName="remarks"
                      (ngModelChange)="remarks($event)"
                    />
                  </div>
                </div>

                <ul class="list-inline wizard mb-0">
                  <li class="previous list-inline-item">
                    <button
                      type="button"
                      class="btn btn-primary"
                      awPreviousStep
                    >
                      Previous
                    </button>
                  </li>
                  <li class="next list-inline-item float-end">
                    <button type="button" class="btn btn-primary" awNextStep>
                      Next
                    </button>
                  </li>
                </ul>
              </aw-wizard-step>

              <!-- Step 3 -->
              <aw-wizard-step stepTitle="Confirm">
                <ng-template awWizardStepSymbol><b>3</b></ng-template>
                <div class="row justify-content-center">
                  <div class="col-xl col-sm-6">
                    <div class="mt-3 mb-0 text-center">
                      <!-- <h4>Alloy Name</h4> -->
                      <div
                        class="card bg-success border border-success card-body"
                      >
                        <h3 class="card-title text-white text-center">
                          {{
                            "GRN No - " + form.scrapDetailsGroup.value["grn_no"]
                          }}
                        </h3>
                      </div>
                      <div
                        class="card bg-success border border-success card-body"
                      >
                        <h3 class="card-title text-white text-center">
                          {{
                            "Alloy Name - " +
                              form.scrapDetailsGroup.getRawValue().alloy_name
                          }}
                        </h3>
                      </div>
                      <div
                        class="card bg-success border border-success card-body"
                      >
                        <h3 class="card-title text-white text-center">
                          {{
                            "Source - " +
                              form.scrapDetailsGroup.getRawValue().source
                          }}
                        </h3>
                      </div>
                      <div
                        class="card bg-success border border-success card-body"
                      >
                        <h3 class="card-title text-white text-center">
                          {{
                            "Weight(KG) - " +
                              form.scrapDetailsGroup.getRawValue().weight
                          }}
                        </h3>
                      </div>
                      <div
                        class="card bg-success border border-success card-body"
                      >
                        <h3
                          *ngIf="isRemarksAvailable"
                          class="card-title text-white text-center"
                        >
                          {{
                            "Remarks - " + form.remarksGroup.value["remarks"]
                          }}
                        </h3>
                        <h3
                          *ngIf="!isRemarksAvailable"
                          class="card-title text-white text-center"
                        >
                          No remarks
                        </h3>
                      </div>
                      <button
                        type="submit"
                        class="btn btn-ibex btn-lg w-md text-black"
                        [disabled]="
                          form.scrapDetailsGroup.invalid ||
                          form.remarksGroup.invalid
                        "
                      >
                        Confirm
                      </button>
                      <br />
                    </div>
                  </div>
                </div>
                <ul class="list-inline wizard mb-0">
                  <li class="previous list-inline-item">
                    <button
                      type="button"
                      class="btn btn-primary"
                      awPreviousStep
                    >
                      Previous
                    </button>
                  </li>
                  <li class="next list-inline-item float-end">
                    <a
                      routerLink="/pages/scrapmanagement/scrapinspection"
                      class="btn btn-primary"
                      type="submit"
                      >Next Process
                    </a>
                  </li>
                </ul>
              </aw-wizard-step>
            </aw-wizard>
          </form>
        </div>
      </div>
    </div>
    <div class="col-lg-12">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title text-center">Inward Scrap Report</h4>
          <app-table
            [HeadingArray]="scrappurchaseHeadingArray"
            [BodyArray]="scrappurchaseBodyArray"
            [source]="false"
            (pageSizeSelected)="onChangePageSize($event)"
            (pageNumber)="onChangePageNumber($event)"
            (searchValue)="onChangeSearchValue($event)"
            [PaginationData]="paginationDetails"
          ></app-table>
        </div>
      </div>
    </div>
  </div>
</div>
