<div class="container-fluid">
  <app-page-title title="" [breadcrumbItems]="breadCrumbItems"></app-page-title>

  <div class="row">
    <div class="col-lg-12 align-items-center">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title mb-4 text-center">MWO Inspection</h4>
          <form
            [formGroup]="mwoCompositionCheckForm"
            (ngSubmit)="onMwoCompositionCheckFormSubmit()"
          >
            <aw-wizard [navBarLayout]="'large-empty-symbols'">
              <!-- Step 1 -->
              <aw-wizard-step
                stepTitle="Hold Number"
                formGroupName="compositionCheckHoldNumberGroup"
              >
                <ng-template awWizardStepSymbol><b>1</b></ng-template>

                <div class="row mt-3 mb-4 text-center">
                  <label for="horizontal-firstname-input" class="col-sm-12"
                    >Ready for Ingot Pouring</label
                  >
                </div>
                <div class="row mb-4 justify-content-center">
                  <div class="col-sm-12">
                    <div class="row" *ngIf="holdNumbers.length === 0">
                      <h4 class="text-center">
                        No hold numbers ready for mwo composition check
                      </h4>
                    </div>
                    <div class="row">
                      <div
                        class="btn-group col-sm-4"
                        role="group"
                        *ngFor="let item of holdNumbers; let i = index"
                      >
                        <input
                          type="radio"
                          class="btn-check"
                          name="hold_no"
                          formControlName="hold_no"
                          [value]="item.holding_details.hold_no"
                          id="{{ item.holding_details.hold_no }}"
                        />
                        <label
                          class="btn btn-outline-success p-4 font-size-16"
                          for="{{ item.holding_details.hold_no }}"
                          >{{ item.holding_details.hold_no }}</label
                        >
                      </div>
                    </div>
                  </div>
                </div>

                <ul class="list-inline wizard mb-0">
                  <li class="next list-inline-item float-end">
                    <button
                      type="button"
                      class="btn btn-primary"
                      [disabled]="form.compositionCheckHoldNumberGroup.invalid"
                      awNextStep
                    >
                      Next
                    </button>
                  </li>
                </ul>
              </aw-wizard-step>
              <!-- Step 2 -->
              <aw-wizard-step stepTitle="Inspection">
                <ng-template awWizardStepSymbol><b>2</b></ng-template>

                <div class="row justify-content-center mt-4">
                  <div class="m-4">
                    <ngb-accordion #acc="ngbAccordion">
                      <ngb-panel
                        *ngFor="let sample of inspectionSamples; let i = index"
                      >
                        <ng-template ngbPanelTitle class="text-black">
                          Sample {{ i + 1 }}
                        </ng-template>
                        <ng-template ngbPanelContent>
                          <app-spectroreports
                            [SamplesArray]="sample"
                          ></app-spectroreports>
                        </ng-template>
                      </ngb-panel>
                    </ngb-accordion>
                  </div>
                </div>

                <ul class="list-inline wizard mb-0">
                  <li class="previous list-inline-item">
                    <button
                      type="button"
                      class="btn btn-primary"
                      awPreviousStep
                    >
                      Previous
                    </button>
                  </li>
                  <li class="next list-inline-item float-end">
                    <button type="button" class="btn btn-primary" awNextStep>
                      Next
                    </button>
                  </li>
                </ul>
              </aw-wizard-step>
              <!-- Step 3 -->
              <aw-wizard-step stepTitle="Remarks" formGroupName="remarksGroup">
                <ng-template awWizardStepSymbol><b>3</b></ng-template>

                <div class="row mb-4">
                  <label for="remarks" class="col-sm-3 col-form-label"
                    >Remarks</label
                  >
                  <div class="col-sm-9">
                    <input
                      type="text"
                      class="form-control"
                      id="remarks"
                      formControlName="remarks"
                      (ngModelChange)="remarks($event)"
                    />
                  </div>
                </div>

                <ul class="list-inline wizard mb-0">
                  <li class="previous list-inline-item">
                    <button
                      type="button"
                      class="btn btn-primary"
                      awPreviousStep
                    >
                      Previous
                    </button>
                  </li>
                  <li class="next list-inline-item float-end">
                    <button type="button" class="btn btn-primary" awNextStep>
                      Next
                    </button>
                  </li>
                </ul>
              </aw-wizard-step>
              <!-- Step 4 -->
              <aw-wizard-step stepTitle="Confirm">
                <ng-template awWizardStepSymbol><b>3</b></ng-template>
                <div class="row justify-content-center">
                  <div class="col-xl col-sm-6">
                    <div class="mt-3 mb-0 text-center">
                      <div
                        class="card bg-success border border-success card-body"
                      >
                        <h3 class="card-title text-white text-center">
                          {{
                            "Hold Number - " +
                              form.compositionCheckHoldNumberGroup.value[
                                "hold_no"
                              ]
                          }}
                        </h3>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="row m-1">
                  <div class="col-lg-2 col-sm-4">
                    <div
                      class="card bg-success border border-success card-body"
                    >
                      <h3 class="card-title text-white text-center">Al (%)</h3>
                      <p class="card-text text-white text-center">5.00</p>
                    </div>
                  </div>
                  <div class="col-lg-2 col-sm-4">
                    <div
                      class="card bg-success border border-success card-body"
                    >
                      <h3 class="card-title text-white text-center">Zn (%)</h3>
                      <p class="card-text text-white text-center">0.060</p>
                    </div>
                  </div>
                  <div class="col-lg-2 col-sm-4">
                    <div
                      class="card bg-warning border border-warning card-body"
                      ngbPopover="Value out of range"
                      triggers="mouseenter:mouseleave"
                    >
                      <h3 class="card-title text-white text-center">Mn (%)</h3>
                      <p class="card-text text-white text-center">0.292</p>
                    </div>
                  </div>
                  <div class="col-lg-2 col-sm-4">
                    <div
                      class="card bg-success border border-success card-body"
                    >
                      <h3 class="card-title text-white text-center">Si (%)</h3>
                      <p class="card-text text-white text-center">0.018</p>
                    </div>
                  </div>
                  <div class="col-lg-2 col-sm-4">
                    <div
                      class="card bg-success border border-success card-body"
                    >
                      <h3 class="card-title text-white text-center">Fe (%)</h3>
                      <p class="card-text text-white text-center">0.0026</p>
                    </div>
                  </div>
                  <div class="col-lg-2 col-sm-4">
                    <div
                      class="card bg-success border border-success card-body"
                    >
                      <h3 class="card-title text-white text-center">Cu (%)</h3>
                      <p class="card-text text-white text-center"><0.0004</p>
                    </div>
                  </div>
                  <div class="col-lg-2 col-sm-4">
                    <div
                      class="card bg-success border border-success card-body"
                    >
                      <h3 class="card-title text-white text-center">Ni (%)</h3>
                      <p class="card-text text-white text-center">0.0010</p>
                    </div>
                  </div>
                  <div class="col-lg-2 col-sm-4">
                    <div
                      class="card bg-success border border-success card-body"
                    >
                      <h3 class="card-title text-white text-center">Be (%)</h3>
                      <p class="card-text text-white text-center">0.0006</p>
                    </div>
                  </div>
                  <div class="col-lg-2 col-sm-4">
                    <div class="card bg-danger border border-danger card-body">
                      <h3 class="card-title text-white text-center">Ca (%)</h3>
                      <p class="card-text text-white text-center">0.0018</p>
                    </div>
                  </div>
                  <div class="col-lg-2 col-sm-4">
                    <div class="card bg-danger border border-danger card-body">
                      <h3 class="card-title text-white text-center">Cd (%)</h3>
                      <p class="card-text text-white text-center">0.0001</p>
                    </div>
                  </div>
                  <div class="col-lg-2 col-sm-4">
                    <div
                      class="card bg-success border border-success card-body"
                    >
                      <h3 class="card-title text-white text-center">Ag (%)</h3>
                      <p class="card-text text-white text-center">0.0006</p>
                    </div>
                  </div>
                  <div class="col-lg-2 col-sm-4">
                    <div
                      class="card bg-success border border-success card-body"
                    >
                      <h3 class="card-title text-white text-center">La (%)</h3>
                      <p class="card-text text-white text-center">0.0015</p>
                    </div>
                  </div>
                  <div class="col-lg-2 col-sm-4">
                    <div
                      class="card bg-success border border-success card-body"
                    >
                      <h3 class="card-title text-white text-center">Zr (%)</h3>
                      <p class="card-text text-white text-center">0.0015</p>
                    </div>
                  </div>
                  <div class="col-lg-2 col-sm-4">
                    <div
                      class="card bg-success border border-success card-body"
                    >
                      <h3 class="card-title text-white text-center">Na (%)</h3>
                      <p class="card-text text-white text-center">~0.0080</p>
                    </div>
                  </div>
                  <div class="col-lg-2 col-sm-4">
                    <div
                      class="card bg-success border border-success card-body"
                    >
                      <h3 class="card-title text-white text-center">P (%)</h3>
                      <p class="card-text text-white text-center">0.0080</p>
                    </div>
                  </div>
                  <div class="col-lg-2 col-sm-4">
                    <div
                      class="card bg-success border border-success card-body"
                    >
                      <h3 class="card-title text-white text-center">Pb (%)</h3>
                      <p class="card-text text-white text-center">0.0040</p>
                    </div>
                  </div>
                  <div class="col-lg-2 col-sm-4">
                    <div
                      class="card bg-success border border-success card-body"
                    >
                      <h3 class="card-title text-white text-center">Sn (%)</h3>
                      <p class="card-text text-white text-center">0.011</p>
                    </div>
                  </div>
                  <div class="col-lg-2 col-sm-4">
                    <div
                      class="card bg-success border border-success card-body"
                    >
                      <h3 class="card-title text-white text-center">Mg (%)</h3>
                      <p class="card-text text-white text-center">94.6</p>
                    </div>
                  </div>
                </div>
                <div class="card bg-success border border-success card-body">
                  <h3
                    *ngIf="isRemarksAvailable"
                    class="card-title text-white text-center"
                  >
                    {{ "Remarks - " + form.remarksGroup.value["remarks"] }}
                  </h3>
                  <h3
                    *ngIf="!isRemarksAvailable"
                    class="card-title text-white text-center"
                  >
                    No remarks
                  </h3>
                </div>

                <div class="row justify-content-center">
                  <div class="col-xl col-sm-6">
                    <div class="mt-3 mb-0 text-center">
                      <button
                        type="submit"
                        class="btn btn-ibex btn-lg w-md text-black"
                        [disabled]="form.invalid"
                      >
                        Move to Ingot Pouring
                      </button>
                      <br />
                    </div>
                  </div>
                </div>
                <ul class="list-inline wizard mb-0">
                  <li class="previous list-inline-item">
                    <button class="btn btn-primary" awPreviousStep>
                      Previous
                    </button>
                  </li>
                  <li class="next list-inline-item float-end">
                    <a
                      routerLink="/pages/mwo/ingotpouring"
                      class="btn btn-primary"
                      >Next Process</a
                    >
                  </li>
                </ul>
              </aw-wizard-step>
            </aw-wizard>
          </form>
        </div>
      </div>
    </div>
    <div class="col-lg-12">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title text-center">MWO Inspection Report</h4>

          <app-table
            [HeadingArray]="mwoinspectionHeadingArray"
            [BodyArray]="mwoinspectionBodyArray"
            [source]="true"
            (pageSizeSelected)="onChangePageSize($event)"
            (pageNumber)="onChangePageNumber($event)"
            (searchValue)="onChangeSearchValue($event)"
            [PaginationData]="paginationDetails"
          >
          </app-table>
        </div>
      </div>
    </div>
  </div>
</div>
