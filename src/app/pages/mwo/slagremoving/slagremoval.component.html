<div class="container-fluid">
  <app-page-title title="" [breadcrumbItems]="breadCrumbItems"></app-page-title>

  <div class="row">
    <div class="col-lg-12 align-items-center">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title mb-4 text-center">Slag Removal</h4>
          <form
            [formGroup]="mwoSlagRemovalForm"
            (ngSubmit)="onMwoSlagRemovalFormSubmit()"
          >
            <aw-wizard [navBarLayout]="'large-empty-symbols'">
              <!-- Step 1 -->
              <aw-wizard-step
                stepTitle="Hold Number"
                formGroupName="slagRemovalHoldNumberGroup"
              >
                <ng-template awWizardStepSymbol><b>1</b></ng-template>

                <div class="row mb-4 text-center mt-4">
                  <label for="horizontal-firstname-input" class="col-sm-12"
                    >Ready for Slag Removal</label
                  >
                </div>
                <div class="row mb-4 justify-content-cente mt-4">
                  <div class="col-sm-12">
                    <div class="row">
                      <div
                        class="btn-group col-sm-4"
                        role="group"
                        *ngFor="let item of holdNumbers; let i = index"
                      >
                        <input
                          type="radio"
                          class="btn-check"
                          name="hold_no"
                          formControlName="hold_no"
                          [value]="item.hold_no"
                          id="{{ item.hold_no }}"
                        />
                        <label
                          class="btn btn-outline-success p-4 font-size-16"
                          for="{{ item.hold_no }}"
                          >{{ item.hold_no }}</label
                        >
                      </div>
                    </div>
                  </div>
                </div>

                <ul class="list-inline wizard mb-0">
                  <li class="next list-inline-item float-end">
                    <button
                      type="button"
                      class="btn btn-primary"
                      [disabled]="form.slagRemovalHoldNumberGroup.invalid"
                      awNextStep
                    >
                      Next
                    </button>
                  </li>
                </ul>
              </aw-wizard-step>
              <!-- Step 2 -->
              <aw-wizard-step stepTitle="Addition Details">
                <ng-template awWizardStepSymbol><b>2</b></ng-template>

                <div class="row mb-4 mt-4 text-center">
                  <label
                    for="horizontal-firstname-input"
                    class="col-sm-3 col-form-label"
                  ></label>
                  <label
                    for="horizontal-firstname-input"
                    class="col-sm-3 col-form-label"
                    >Recommended Values</label
                  >
                  <label
                    for="horizontal-firstname-input"
                    class="col-sm-3 col-form-label"
                    >Request to SAP</label
                  >
                  <label
                    for="horizontal-firstname-input"
                    class="col-sm-3 col-form-label"
                    >Recieved from SAP</label
                  >
                </div>
                <div class="row mb-4 mt-4">
                  <label
                    for="horizontal-email-input"
                    class="col-sm-3 col-form-label"
                    >Be(Grams)</label
                  >
                  <div class="col-sm-3">
                    <input
                      type="number"
                      class="form-control"
                      value="50"
                      [disabled]="true"
                    />
                  </div>
                  <div class="col-sm-3">
                    <input type="number" class="form-control" value="50" />
                  </div>
                  <div class="col-sm-3">
                    <input type="number" class="form-control" />
                  </div>
                </div>
                <div class="row mb-4">
                  <label
                    for="horizontal-password-input"
                    class="col-sm-3 col-form-label"
                    >Pure Alu(KG)</label
                  >
                  <div class="col-sm-3">
                    <input
                      type="number"
                      class="form-control"
                      value="0"
                      [disabled]="true"
                    />
                  </div>
                  <div class="col-sm-3">
                    <input type="number" class="form-control" value="0" />
                  </div>
                  <div class="col-sm-3">
                    <input type="number" class="form-control" />
                  </div>
                </div>
                <div class="row mb-4">
                  <label
                    for="horizontal-password-input"
                    class="col-sm-3 col-form-label"
                    >Zinc(KG)</label
                  >
                  <div class="col-sm-3">
                    <input
                      type="number"
                      class="form-control"
                      value="0"
                      [disabled]="true"
                    />
                  </div>
                  <div class="col-sm-3">
                    <input type="number" class="form-control" value="0" />
                  </div>
                  <div class="col-sm-3">
                    <input
                      type="number"
                      class="form-control"
                      style="
                        border-color: green;
                        background-color: rgb(213, 232, 213);
                      "
                      value="0"
                    />
                  </div>
                </div>
                <div class="row mb-4">
                  <label
                    for="horizontal-password-input"
                    class="col-sm-3 col-form-label"
                    >Al Mn(KG)
                  </label>
                  <div class="col-sm-3">
                    <input
                      type="number"
                      class="form-control"
                      value="0"
                      [disabled]="true"
                    />
                  </div>
                  <div class="col-sm-3">
                    <input type="number" class="form-control" value="0" />
                  </div>
                  <div class="col-sm-3">
                    <input
                      type="number"
                      class="form-control"
                      style="
                        border-color: green;
                        background-color: rgb(213, 232, 213);
                      "
                      value="0"
                    />
                  </div>
                </div>
                <div class="row mb-4">
                  <label
                    for="horizontal-password-input"
                    class="col-sm-3 col-form-label"
                    >Pure Mg(KG)</label
                  >
                  <div class="col-sm-3">
                    <input
                      type="number"
                      class="form-control"
                      value="0"
                      [disabled]="true"
                    />
                  </div>
                  <div class="col-sm-3" style="position: relative">
                    <input type="number" class="form-control" value="0" />
                  </div>
                  <div class="col-sm-3">
                    <input
                      type="number"
                      class="form-control"
                      style="
                        border-color: green;
                        background-color: rgb(213, 232, 213);
                      "
                      value="0"
                    />
                  </div>
                </div>

                <ul class="list-inline wizard mb-0">
                  <li class="previous list-inline-item">
                    <button class="btn btn-primary" awPreviousStep>
                      Previous
                    </button>
                  </li>
                  <li
                    class="list-inline-item"
                    style="position: absolute; right: 390px"
                  >
                    <button class="btn btn-primary">Request to SAP</button>
                  </li>
                  <li class="next list-inline-item float-end">
                    <button class="btn btn-primary" awNextStep>Next</button>
                  </li>
                </ul>
              </aw-wizard-step>
              <!-- Step 3 -->
              <aw-wizard-step
                stepTitle="Metal Tapping to MWO"
                formGroupName="metalTappingToMWOGroup"
              >
                <ng-template awWizardStepSymbol><b>3</b></ng-template>

                <div class="row">
                  <label
                    for="tapping_temp_image"
                    class="col-sm-3 col-form-label"
                    >Tapping Temp Image</label
                  >
                  <div class="col-sm-9">
                    <app-webcam (getPicture)="handleImage($event)"></app-webcam>
                    <div *ngIf="webcamImage" class="row">
                      <img [src]="webcamImage.imageAsDataUrl" />
                    </div>
                  </div>
                </div>
                <div class="row mt-2 mb-4">
                  <label for="tapping_temp" class="col-sm-3 col-form-label"
                    >Tapping Temperature(°C)</label
                  >
                  <div class="col-sm-9">
                    <input
                      type="number"
                      class="form-control"
                      id="tapping_temp"
                      formControlName="tapping_temp"
                    />
                  </div>
                </div>

                <div class="row mb-4">
                  <label for="time" class="col-sm-3 col-form-label">Time</label>
                  <div class="col-sm-9">
                    <input
                      class="form-control"
                      type="time"
                      id="time"
                      formControlName="time"
                    />
                  </div>
                </div>

                <div class="row mb-4">
                  <label for="slag_quantity" class="col-sm-3 col-form-label"
                    >Quantity(KG)</label
                  >
                  <div class="col-sm-9">
                    <input
                      type="number"
                      class="form-control"
                      id="slag_quantity"
                      formControlName="slag_quantity"
                    />
                  </div>
                </div>

                <div class="row mb-4">
                  <label
                    for="slag_removal_quantity"
                    class="col-sm-3 col-form-label"
                    >Slag Removal(KG)</label
                  >
                  <div class="col-sm-9">
                    <input
                      type="number"
                      class="form-control"
                      id="slag_removal_quantity"
                      formControlName="slag_removal_quantity"
                    />
                  </div>
                </div>

                <ul class="list-inline wizard mb-0">
                  <li class="previous list-inline-item">
                    <button
                      type="button"
                      class="btn btn-primary"
                      awPreviousStep
                    >
                      Previous
                    </button>
                  </li>
                  <li class="next list-inline-item float-end">
                    <button
                      type="button"
                      class="btn btn-primary"
                      [disabled]="
                        form.metalTappingToMWOGroup.invalid ||
                        !isTappingTempImageAvailable
                      "
                      awNextStep
                    >
                      Next
                    </button>
                  </li>
                </ul>
              </aw-wizard-step>
              <!-- Step 4 -->
              <aw-wizard-step stepTitle="Confirm">
                <ng-template awWizardStepSymbol><b>4</b></ng-template>
                <div class="row justify-content-center">
                  <div class="col-xl col-sm-6">
                    <div class="mt-3 mb-0 text-center">
                      <div
                        class="card bg-success border border-success card-body"
                      >
                        <h3 class="card-title text-white text-center">
                          {{
                            "Hold Number - " +
                              form.slagRemovalHoldNumberGroup.value["hold_no"]
                          }}
                        </h3>
                      </div>
                      <div
                        class="card bg-success border border-success card-body"
                      >
                        <h3 class="card-title text-white text-center">
                          Flux Adding Quantity - 20KG
                        </h3>
                      </div>
                      <div
                        class="card bg-success border border-success card-body"
                      >
                        <h3 class="card-title text-white text-center">
                          Be Grams - 50Grams
                        </h3>
                      </div>
                      <div
                        class="card bg-success border border-success card-body"
                      >
                        <h3 class="card-title text-white text-center">
                          Pure Alu - 0KG
                        </h3>
                      </div>
                      <div
                        class="card bg-success border border-success card-body"
                      >
                        <h3 class="card-title text-white text-center">
                          Zinc - 0KG
                        </h3>
                      </div>
                      <div
                        class="card bg-success border border-success card-body"
                      >
                        <h3 class="card-title text-white text-center">
                          Al - 0KG
                        </h3>
                      </div>
                      <div
                        class="card bg-success border border-success card-body"
                      >
                        <h3 class="card-title text-white text-center">
                          Pure Mg - 0KG
                        </h3>
                      </div>
                      <div
                        class="card bg-success border border-success card-body"
                      >
                        <h3 class="card-title text-white text-center">
                          Melting Temperature - 700 °C
                        </h3>
                      </div>
                      <div
                        *ngIf="webcamImage"
                        class="card border border-success card-body"
                      >
                        <div class="row">
                          <img [src]="webcamImage.imageAsDataUrl" />
                        </div>
                      </div>
                      <div
                        *ngIf="!webcamImage"
                        class="card bg-success border border-success card-body"
                      >
                        <h3 class="card-title text-white text-center">
                          Tapping Temp Image - No Image Captured
                        </h3>
                      </div>
                      <div
                        class="card bg-success border border-success card-body"
                      >
                        <h3 class="card-title text-white text-center">
                          {{
                            "Time - " +
                              form.metalTappingToMWOGroup.value["time"]
                          }}
                        </h3>
                      </div>
                      <button
                        type="submit"
                        class="btn btn-ibex btn-lg w-md text-black"
                      >
                        Confirm
                      </button>
                      <br />
                    </div>
                  </div>
                </div>
                <ul class="list-inline wizard mb-0">
                  <li class="previous list-inline-item">
                    <button class="btn btn-primary" awPreviousStep>
                      Previous
                    </button>
                  </li>
                  <li class="next list-inline-item float-end">
                    <a
                      routerLink="/pages/mwo/mwoinspection"
                      class="btn btn-primary"
                      >Next Process
                    </a>
                  </li>
                </ul>
              </aw-wizard-step>
            </aw-wizard>
          </form>
        </div>
      </div>
      <div class="col-lg-12">
        <div class="card">
          <div class="card-body">
            <h4 class="card-title text-center">Slag Removal Report</h4>

            <app-table
              [HeadingArray]="slagremovingHeadingArray"
              [BodyArray]="slagremovingBodyArray"
              [source]="true"
              (pageSizeSelected)="onChangePageSize($event)"
              (pageNumber)="onChangePageNumber($event)"
              (searchValue)="onChangeSearchValue($event)"
              [PaginationData]="paginationDetails"
            >
            </app-table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
